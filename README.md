# PDF to SCORM 2004 Converter - Web Interface

Современное веб-приложение для конвертации PDF документов в SCORM 2004 пакеты.

## Технологии

### Frontend
- **React 18** + **TypeScript**
- **Vite** - сборщик
- **Tailwind CSS** - стилизация
- **Lucide React** - иконки
- **JSZip** - работа с ZIP архивами

### Backend
- **Flask** - веб-фреймворк
- **Flask-CORS** - поддержка CORS
- **PyMuPDF (fitz)** - обработка PDF
- **Pillow** - обработка изображений

## Установка

### Требования
- **Node.js** 18+ и npm
- **Python** 3.8+
- **pip** для установки Python зависимостей

### Frontend

```bash
npm install
```

### Backend

```bash
cd backend
pip install -r requirements.txt
```

## Запуск

### 1. Запустите Backend (в отдельном терминале)

```bash
cd backend
python app.py
```

Backend будет доступен на `http://localhost:5001`

### 2. Запустите Frontend (в другом терминале)

```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`

**⚠️ Важно:** Backend должен быть запущен перед использованием приложения!

## Сборка

```bash
npm run build
```

Собранные файлы будут в директории `dist/`

## Функциональность

### 1. Загрузка PDF файлов
- Drag & Drop интерфейс
- Поддержка множественной загрузки
- Поддерживаемый формат: **PDF (.pdf)**
- Выбор страниц для включения в SCORM пакет
- Автоматическое открытие предпросмотра после загрузки
- Управление файлами: удаление, установка Launch file

### 2. Настройки SCORM 2004

#### Прогресс и завершение
- Запоминание последней страницы
- Автосохранение при каждом переходе
- Методы подсчёта прогресса (по экранам, по задачам, комбинированный)
- Порог завершения курса
- Критерии успешности

#### Предпочтения обучающегося
- Настройки громкости, языка, скорости
- Субтитры
- Запоминание предпочтений

#### Стиль плеера и UX
- Темы интерфейса (light, dark, auto)
- Цветовая схема (основной цвет, акцентный цвет)
- Высокий контраст
- Крупный шрифт
- Типы переходов между страницами

### 3. Дополнительные возможности

- **Live Preview** - предпросмотр текущих настроек
- **Package Preview** - предпросмотр сгенерированного пакета
- **SCORM Player** - встроенный проигрыватель для тестирования пакета
- **Тёмная/светлая тема** - переключение с плавной анимацией
- **Адаптивный дизайн** - поддержка desktop, tablet, mobile
- **Доступность** - ARIA-атрибуты, клавиатурная навигация

## Структура проекта

```
pdf2scorm/
├── src/                    # Frontend (React + TypeScript)
│   ├── components/         # React компоненты
│   │   ├── settings/       # Компоненты вкладок настроек
│   │   ├── Header.tsx      # Верхняя панель
│   │   ├── Footer.tsx      # Нижняя панель
│   │   ├── FileUpload.tsx  # Компонент загрузки файлов
│   │   ├── SettingsPanel.tsx # Панель настроек
│   │   ├── LivePreview.tsx # Предпросмотр настроек
│   │   ├── PackagePreviewModal.tsx # Модальное окно превью пакета
│   │   ├── ScormPlayer.tsx # SCORM проигрыватель
│   │   └── HelpModal.tsx   # Модальное окно помощи
│   ├── utils/              # Утилиты
│   │   ├── configPresets.ts # Конфигурация по умолчанию
│   │   ├── fileUtils.ts    # Утилиты для работы с файлами
│   │   └── scormGenerator.ts # Генератор SCORM пакетов
│   ├── types.ts            # TypeScript типы
│   ├── App.tsx             # Главный компонент
│   └── main.tsx            # Точка входа
├── backend/                # Backend (Flask)
│   ├── app.py              # Flask API сервер
│   ├── file_router.py      # Роутер для определения типа файла
│   ├── scorm_builder.py    # Сборщик SCORM пакетов
│   └── converters/         # Конвертеры
│       └── pdf_converter.py
├── pdf_to_scorm.py         # Оригинальный скрипт конвертации PDF
├── requirements_scorm.txt  # Зависимости для pdf_to_scorm.py
└── README.md               # Этот файл
```

## Backend API

Backend реализован на Flask и предоставляет REST API для конвертации файлов в SCORM 2004 пакеты.

### Endpoints

- `GET /api/health` - проверка работоспособности API
- `POST /api/convert` - конвертация файлов в SCORM пакет

### Поддерживаемые форматы:
- **PDF** - конвертируется в SCORM с использованием оригинального скрипта `pdf_to_scorm.py`
  - Поддержка выбора страниц для включения в пакет
  - Каждая страница PDF становится отдельным SCO (Shareable Content Object)
  - Автоматическая генерация навигации между страницами

## Решение проблем

Подробные инструкции по решению проблем см. в файле [TROUBLESHOOTING.md](TROUBLESHOOTING.md).

## Примечания

- Все настройки соответствуют стандарту SCORM 2004 4th Edition
- Backend использует оригинальный скрипт `pdf_to_scorm.py` для конвертации PDF
- SCORM пакеты генерируются с полной поддержкой всех настроек из интерфейса

## Лицензия

MIT
